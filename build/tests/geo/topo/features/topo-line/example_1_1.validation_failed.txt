=== Files ===
Using example_1_1.json from examples
JSON-LD context is present - uplifting
Output JSON-LD example_1_1.jsonld created
Output Turtle example_1_1.ttl created
=== End Files ===

=== JSON Schema ===
Validation passed
=== End JSON Schema ===

=== SHACL ===
Using SHACL files for validation:
 - features/topo-feature/tests/geometry-coordinates.shacl
 - features/topo-feature-collection/tests/topo-refs-exist.shacl

** Validation error **
Validation Report
Conforms: False
Results (4):
Constraint Violation in SPARQLConstraintComponent (http://www.w3.org/ns/shacl#SPARQLConstraintComponent):
	Severity: sh:Violation
	Source Shape: topo:testTopoLinesReferencePoints
	Focus Node: [ geojson:relatedFeatures ( <http://www.example.com/features/P1> <http://www.example.com/features/P2> ) ; rdf:type geojson:LineString ]
	Value Node: <http://www.example.com/features/P1>
	Result Path: geojson:topology
	Source Constraint: [ sh:message Literal("Lines topologies must reference points within current graph closure.") ; sh:select Literal("
        prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>
        prefix geojson: <https://purl.org/geojson/vocab#>

        SELECT $this (geojson:topology as ?path) (?ref as ?value)
        WHERE {
         $this geojson:relatedFeatures/rdf:rest*/rdf:first ?ref .
         FILTER NOT EXISTS {
             ?ref geojson:geometry/rdf:type geojson:Point }
        }
") ]
	Message: Lines topologies must reference points within current graph closure.
Constraint Violation in SPARQLConstraintComponent (http://www.w3.org/ns/shacl#SPARQLConstraintComponent):
	Severity: sh:Violation
	Source Shape: topo:testTopoLinesReferencePoints
	Focus Node: [ geojson:relatedFeatures ( <http://www.example.com/features/P1> <http://www.example.com/features/P2> ) ; rdf:type geojson:LineString ]
	Value Node: <http://www.example.com/features/P2>
	Result Path: geojson:topology
	Source Constraint: [ sh:message Literal("Lines topologies must reference points within current graph closure.") ; sh:select Literal("
        prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>
        prefix geojson: <https://purl.org/geojson/vocab#>

        SELECT $this (geojson:topology as ?path) (?ref as ?value)
        WHERE {
         $this geojson:relatedFeatures/rdf:rest*/rdf:first ?ref .
         FILTER NOT EXISTS {
             ?ref geojson:geometry/rdf:type geojson:Point }
        }
") ]
	Message: Lines topologies must reference points within current graph closure.
Constraint Violation in SPARQLConstraintComponent (http://www.w3.org/ns/shacl#SPARQLConstraintComponent):
	Severity: sh:Violation
	Source Shape: topo:testTopoReferencesExist
	Focus Node: [ geojson:relatedFeatures ( <http://www.example.com/features/P1> <http://www.example.com/features/P2> ) ; rdf:type geojson:LineString ]
	Value Node: <http://www.example.com/features/P1>
	Result Path: geojson:relatedFeatures
	Source Constraint: [ sh:message Literal("Referenced features must be present within current graph closure for  topological feature.") ; sh:select Literal("
        prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>
        prefix geojson: <https://purl.org/geojson/vocab#>

        SELECT $this (geojson:relatedFeatures as ?path) (?ref as ?value)
        WHERE {
         $this geojson:relatedFeatures/rdf:rest*/rdf:first ?ref .
         FILTER NOT EXISTS { ?ref ?p ?o }
        }
") ]
	Message: Referenced features must be present within current graph closure for  topological feature.
Constraint Violation in SPARQLConstraintComponent (http://www.w3.org/ns/shacl#SPARQLConstraintComponent):
	Severity: sh:Violation
	Source Shape: topo:testTopoReferencesExist
	Focus Node: [ geojson:relatedFeatures ( <http://www.example.com/features/P1> <http://www.example.com/features/P2> ) ; rdf:type geojson:LineString ]
	Value Node: <http://www.example.com/features/P2>
	Result Path: geojson:relatedFeatures
	Source Constraint: [ sh:message Literal("Referenced features must be present within current graph closure for  topological feature.") ; sh:select Literal("
        prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>
        prefix geojson: <https://purl.org/geojson/vocab#>

        SELECT $this (geojson:relatedFeatures as ?path) (?ref as ?value)
        WHERE {
         $this geojson:relatedFeatures/rdf:rest*/rdf:first ?ref .
         FILTER NOT EXISTS { ?ref ?p ?o }
        }
") ]
	Message: Referenced features must be present within current graph closure for  topological feature.

Focus nodes:
 - Shape topo:testTopoLinesReferencePoints: <http://www.example.com/features/LineP1P2>/geojson:topology
 - Shape topo:testTopoPolyReferencesLines: *none*
 - Shape _:nb6540163436247518357af53ceb6b840b1: *none*
 - Shape _:nb6540163436247518357af53ceb6b840b3: *none*
 - Shape topo:testTopoReferencesExist: <http://www.example.com/features/LineP1P2>/geojson:topology
 - Shape _:nb6540163436247518357af53ceb6b840b2 (path geojson:coordinates): *none*

=== End SHACL ===

